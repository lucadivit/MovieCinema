<?php/** * I controllori ricevono i comandi (in genere dalle View) modificando lo stato degli oggetti e comunicando con il database. In particolare CGHome si occupa di * smistare le varie richieste che riceve ai relativi controllori * @author Luca & Valentina * @package Controller * @category Home */class CHome {    /**     * Fa visualizzare ciÃ² che gli viene restituito da controller e task     * @author Luca & Valentina     */      public function set_page() {                  $contenuto = $this->smista();            echo $contenuto;         }        /**     * Smista le richieste ai vari controller     * @author Luca & Valentina     * @return type     */    public function smista() {        $home = USingleton::getInstaces('VHome');        switch ($home->getController()) {            case 'registrazione':                $Registra = USingleton::getInstaces('CRegistrazione');                return $Registra->smista();                break;            case 'autenticazione':                $Autentica = USingleton::getInstaces('CAutenticazione');                return $Autentica->smista();                break;            case 'gestione':                $Gestione = USingleton::getInstaces('CGestione');                return $Gestione->smista();                break;            case 'acquisto':                $Acquisto = USingleton::getInstaces('CAcquisto');                return $Acquisto->smista();                break;            default:                return $home->impostapaginaguest();        }    }    /**     * Questa funzione restituisce la media dei voti per lo slider     * @param type $codice     * @return type     */public function mediavoto($codice) {        $f_comm = USingleton::getInstaces('FCommento');        $parametri2 = array(array(0 => 'codice_film', 1 => '=', 2 => $codice));        $commento = $f_comm->cerca_nel_db(NULL, $parametri2);        $totale = 0;        for ($i = 0; $i < count($commento); $i++) {            $totale = $totale + ($commento[$i]['voto']);        }        $media = $totale / count($commento);        return floor($media);    }}